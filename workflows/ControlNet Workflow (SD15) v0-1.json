{"id":"d15c5508-8a14-4adf-8fe0-059cf3acf9a4","revision":0,"last_node_id":72,"last_link_id":112,"nodes":[{"id":49,"type":"PreviewImage","pos":[1437.482666015625,268.3323974609375],"size":[337.0447998046875,381.6368408203125],"flags":{},"order":23,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":74}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":8,"type":"VAEDecode","pos":[2490,130],"size":[210,46],"flags":{},"order":27,"mode":0,"inputs":[{"label":"samples","localized_name":"samples","name":"samples","type":"LATENT","link":7},{"label":"vae","localized_name":"vae","name":"vae","type":"VAE","link":51}],"outputs":[{"label":"IMAGE","localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[9]}],"properties":{"Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":61,"type":"Note","pos":[658.8139038085938,266.12860107421875],"size":[353.0391845703125,88],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Make sure to load the correct ControlNet model:\n- SDXL or SD15\n- Depth or Canny (or other)\n- Size of the model for speed/quality (small, mid, full)"],"color":"#232","bgcolor":"#353"},{"id":62,"type":"Note","pos":[1090,520],"size":[315.1159362792969,88],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Make sure to load the correct Preprocessor model:\n- Size of the model for speed/quality (l = large; b = base; s = small)\n- Resolution (SDXL = 1024; SD15 = 512) "],"color":"#232","bgcolor":"#353"},{"id":63,"type":"Note","pos":[650,960],"size":[353.0391845703125,88],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Make sure to load the correct ControlNet model:\n- SDXL or SD15\n- Depth or Canny (or other)\n- Size of the model for speed/quality (small, mid, full)"],"color":"#232","bgcolor":"#353"},{"id":52,"type":"LoadImage","pos":[650,1100],"size":[370,370],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[99]},{"label":"MASK","localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["example.png","image"]},{"id":67,"type":"Note","pos":[1104.9674072265625,1277.1173095703125],"size":[260,88],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Make sure to load the correct Preprocessor model:\n- Resolution (SDXL = 1024; SD15 = 512) "],"color":"#232","bgcolor":"#353"},{"id":9,"type":"SaveImage","pos":[2720,130],"size":[420,580],"flags":{},"order":28,"mode":0,"inputs":[{"label":"images","localized_name":"images","name":"images","type":"IMAGE","link":9},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]},{"id":54,"type":"PreviewImage","pos":[1400,900],"size":[360,390],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":101}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":69,"type":"Note","pos":[1790,120],"size":[315.1159362792969,88],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["- Make sure you connect the positive and negative nodes from the ControlNet you want to use\n- Make sure you connect the latent image either from the Empty Latent Image or the VAE Encode from the Image to Image group"],"color":"#232","bgcolor":"#353"},{"id":68,"type":"Note","pos":[-650,320],"size":[370,88],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Make sure that you match the Checkpoint model with the ControlNet model:\n- SDXL + SDXL\n- SD15 + SD15"],"color":"#232","bgcolor":"#353"},{"id":60,"type":"LoraLoader","pos":[-230,170],"size":[290,126],"flags":{},"order":16,"mode":4,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":90},{"localized_name":"clip","name":"clip","type":"CLIP","link":91},{"localized_name":"lora_name","name":"lora_name","type":"COMBO","widget":{"name":"lora_name"},"link":null},{"localized_name":"strength_model","name":"strength_model","type":"FLOAT","widget":{"name":"strength_model"},"link":null},{"localized_name":"strength_clip","name":"strength_clip","type":"FLOAT","widget":{"name":"strength_clip"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[95]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[92,93]}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":[null,1,1]},{"id":70,"type":"Note","pos":[-230,340],"size":[290,88],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Bypasse or Unbypasse to use or not use the LoRA"],"color":"#232","bgcolor":"#353"},{"id":71,"type":"Note","pos":[1260,-230],"size":[265.4254150390625,95.361572265625],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Set the resolution according to your Checkpoint+ControlNet model:\n- SDXL = 1024\n- SD15 = 512"],"color":"#232","bgcolor":"#353"},{"id":34,"type":"CheckpointLoaderSimple","pos":[-650,170],"size":[370,100],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"label":"MODEL","localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[90]},{"label":"CLIP","localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":1,"links":[91]},{"label":"VAE","localized_name":"VAE","name":"VAE","type":"VAE","slot_index":2,"links":[51,85]}],"properties":{"Node name for S&R":"CheckpointLoaderSimple","models":[{"name":"architecturerealmix_v11.safetensors","url":"https://civitai.com/api/download/models/431755?type=Model&format=SafeTensor&size=full&fp=fp16","directory":"checkpoints"}]},"widgets_values":["dreamshaper_8.safetensors"]},{"id":45,"type":"ControlNetLoader","pos":[655.8158569335938,163.42819213867188],"size":[353.8935852050781,61.55488967895508],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"control_net_name","name":"control_net_name","type":"COMBO","widget":{"name":"control_net_name"},"link":null}],"outputs":[{"label":"CONTROL_NET","localized_name":"CONTROL_NET","name":"CONTROL_NET","type":"CONTROL_NET","slot_index":0,"links":[70]}],"properties":{"Node name for S&R":"ControlNetLoader","models":[{"name":"control_v11f1p_sd15_depth_fp16.safetensors","url":"https://huggingface.co/comfyanonymous/ControlNet-v1-1_fp16_safetensors/resolve/main/control_v11f1p_sd15_depth_fp16.safetensors?download=true","directory":"controlnet"}]},"widgets_values":["control_v11f1p_sd15_depth.pth"]},{"id":48,"type":"DepthAnythingPreprocessor","pos":[1085.82470703125,394.0101013183594],"size":[320,82],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":72},{"localized_name":"ckpt_name","name":"ckpt_name","shape":7,"type":"COMBO","widget":{"name":"ckpt_name"},"link":null},{"localized_name":"resolution","name":"resolution","shape":7,"type":"INT","widget":{"name":"resolution"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[73,74]}],"properties":{"Node name for S&R":"DepthAnythingPreprocessor"},"widgets_values":["depth_anything_vitb14.pth",512]},{"id":50,"type":"ControlNetLoader","pos":[650,860],"size":[270,58],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"control_net_name","name":"control_net_name","type":"COMBO","widget":{"name":"control_net_name"},"link":null}],"outputs":[{"localized_name":"CONTROL_NET","name":"CONTROL_NET","type":"CONTROL_NET","links":[77]}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["control_v11p_sd15_canny.pth"]},{"id":66,"type":"CannyEdgePreprocessor","pos":[1100,1130],"size":[270,106],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":99},{"localized_name":"low_threshold","name":"low_threshold","shape":7,"type":"INT","widget":{"name":"low_threshold"},"link":null},{"localized_name":"high_threshold","name":"high_threshold","shape":7,"type":"INT","widget":{"name":"high_threshold"},"link":null},{"localized_name":"resolution","name":"resolution","shape":7,"type":"INT","widget":{"name":"resolution"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[100,101]}],"properties":{"Node name for S&R":"CannyEdgePreprocessor"},"widgets_values":[100,200,512]},{"id":56,"type":"ImageScale","pos":[1255.386962890625,-404.8855285644531],"size":[270,130],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":83},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"crop","name":"crop","type":"COMBO","widget":{"name":"crop"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[84]}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",512,512,"center"]},{"id":51,"type":"ControlNetApplyAdvanced","pos":[1100,900],"size":[270,186],"flags":{},"order":25,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":75},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":76},{"localized_name":"control_net","name":"control_net","type":"CONTROL_NET","link":77},{"localized_name":"image","name":"image","type":"IMAGE","link":100},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"strength","name":"strength","type":"FLOAT","widget":{"name":"strength"},"link":null},{"localized_name":"start_percent","name":"start_percent","type":"FLOAT","widget":{"name":"start_percent"},"link":null},{"localized_name":"end_percent","name":"end_percent","type":"FLOAT","widget":{"name":"end_percent"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","links":[]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","links":[]}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0,1]},{"id":57,"type":"VAEEncode","pos":[1626.7913818359375,-138.09214782714844],"size":[140,46],"flags":{},"order":22,"mode":0,"inputs":[{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":84},{"localized_name":"vae","name":"vae","type":"VAE","link":85}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[]}],"properties":{"Node name for S&R":"VAEEncode"},"widgets_values":[]},{"id":5,"type":"EmptyLatentImage","pos":[1474.8978271484375,-33.43867111206055],"size":[315,106],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"label":"LATENT","localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[110]}],"properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[512,512,1]},{"id":42,"type":"ControlNetApplyAdvanced","pos":[1087.283203125,162.33224487304688],"size":[315,186],"flags":{},"order":24,"mode":0,"inputs":[{"label":"positive","localized_name":"positive","name":"positive","type":"CONDITIONING","link":61},{"label":"negative","localized_name":"negative","name":"negative","type":"CONDITIONING","link":62},{"label":"control_net","localized_name":"control_net","name":"control_net","type":"CONTROL_NET","link":70},{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":73},{"label":"vae","localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"strength","name":"strength","type":"FLOAT","widget":{"name":"strength"},"link":null},{"localized_name":"start_percent","name":"start_percent","type":"FLOAT","widget":{"name":"start_percent"},"link":null},{"localized_name":"end_percent","name":"end_percent","type":"FLOAT","widget":{"name":"end_percent"},"link":null}],"outputs":[{"label":"positive","localized_name":"positive","name":"positive","type":"CONDITIONING","slot_index":0,"links":[111]},{"label":"negative","localized_name":"negative","name":"negative","type":"CONDITIONING","slot_index":1,"links":[112]}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0,1]},{"id":7,"type":"CLIPTextEncode","pos":[170,370],"size":[425.27801513671875,180.6060791015625],"flags":{},"order":21,"mode":0,"inputs":[{"label":"clip","localized_name":"clip","name":"clip","type":"CLIP","link":93},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"label":"CONDITIONING","localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[62,76]}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["bad quality"]},{"id":55,"type":"LoadImage","pos":[966.3905639648438,-407.4841613769531],"size":[274.080078125,314],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[83]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["pasted/image.png","image"]},{"id":20,"type":"LoadImage","pos":[650,390],"size":[370,370],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[72]},{"label":"MASK","localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["pasted/image.png","image"]},{"id":24,"type":"CLIPTextEncode","pos":[170,150],"size":[422.84503173828125,164.31304931640625],"flags":{},"order":20,"mode":0,"inputs":[{"label":"clip","localized_name":"clip","name":"clip","type":"CLIP","link":92},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"label":"CONDITIONING","localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[61,75]}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["photographic image of a beautiful yellow apple"]},{"id":3,"type":"KSampler","pos":[2140,120],"size":[332.0729064941406,601.6739501953125],"flags":{},"order":26,"mode":0,"inputs":[{"label":"model","localized_name":"model","name":"model","type":"MODEL","link":95},{"label":"positive","localized_name":"positive","name":"positive","type":"CONDITIONING","link":111},{"label":"negative","localized_name":"negative","name":"negative","type":"CONDITIONING","link":112},{"label":"latent_image","localized_name":"latent_image","name":"latent_image","type":"LATENT","link":110},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"label":"LATENT","localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[7]}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[409315146044049,"randomize",20,7,"euler_ancestral","normal",1]}],"links":[[7,3,0,8,0,"LATENT"],[9,8,0,9,0,"IMAGE"],[51,34,2,8,1,"VAE"],[61,24,0,42,0,"CONDITIONING"],[62,7,0,42,1,"CONDITIONING"],[70,45,0,42,2,"CONTROL_NET"],[72,20,0,48,0,"IMAGE"],[73,48,0,42,3,"IMAGE"],[74,48,0,49,0,"IMAGE"],[75,24,0,51,0,"CONDITIONING"],[76,7,0,51,1,"CONDITIONING"],[77,50,0,51,2,"CONTROL_NET"],[83,55,0,56,0,"IMAGE"],[84,56,0,57,0,"IMAGE"],[85,34,2,57,1,"VAE"],[90,34,0,60,0,"MODEL"],[91,34,1,60,1,"CLIP"],[92,60,1,24,0,"CLIP"],[93,60,1,7,0,"CLIP"],[95,60,0,3,0,"MODEL"],[99,52,0,66,0,"IMAGE"],[100,66,0,51,3,"IMAGE"],[101,66,0,54,0,"IMAGE"],[110,5,0,3,3,"LATENT"],[111,42,0,3,1,"CONDITIONING"],[112,42,1,3,2,"CONDITIONING"]],"groups":[{"id":2,"title":"Depth","bounding":[632.0963745117188,85.44995880126953,1150,680],"color":"#b06634","font_size":24,"flags":{}},{"id":3,"title":"Canny","bounding":[630,780,1150,710],"color":"#a1309b","font_size":24,"flags":{}},{"id":4,"title":"Image to Image","bounding":[955.127685546875,-482.0777282714844,827.9471435546875,407.40631103515625],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":2.269269784435099,"offset":[-2387.152016299106,-277.8817293197988]},"node_versions":{"comfy-core":"0.3.14"}},"version":0.4}